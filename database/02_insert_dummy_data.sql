-- =================================================================
-- Script για την εισαγωγή δεδομένων (Dummy Data)
-- Βάση Δεδομένων: gym_management_db
-- =================================================================

-- Επιλογή της βάσης δεδομένων
USE `gym_management_db`;

-- Απενεργοποίηση ελέγχου ξένων κλειδιών για να αποφύγουμε προβλήματα με τη σειρά εισαγωγής
SET FOREIGN_KEY_CHECKS=0;

-- Καθαρισμός των πινάκων πριν την εισαγωγή για να είναι η διαδικασία επαναλαμβανόμενη
TRUNCATE TABLE `announcements`;
TRUNCATE TABLE `bookings`;
TRUNCATE TABLE `events`;
TRUNCATE TABLE `programs`;
TRUNCATE TABLE `trainers`;
TRUNCATE TABLE `users`;
TRUNCATE TABLE `roles`;

-- Ενεργοποίηση ελέγχου ξένων κλειδιών
SET FOREIGN_KEY_CHECKS=1;


-- -----------------------------------------------------------------
-- Εισαγωγή Ρόλων (Roles)
-- -----------------------------------------------------------------
INSERT INTO `roles` (`id`, `role_name`) VALUES
(1, 'admin'),
(2, 'registered_user');


-- -----------------------------------------------------------------
-- Εισαγωγή Γυμναστών (Trainers)
-- -----------------------------------------------------------------
INSERT INTO `trainers` (`id`, `first_name`, `last_name`, `bio`) VALUES
(1, 'Ελένη', 'Παπαδοπούλου', 'Expert στο Pilates και Yoga με 10 χρόνια εμπειρίας.'),
(2, 'Κώστας', 'Νικολάου', 'Πιστοποιημένος Crossfit trainer Level 2.');


-- -----------------------------------------------------------------
-- Εισαγωγή Προγραμμάτων (Programs)
-- -----------------------------------------------------------------
INSERT INTO `programs` (`id`, `name`, `description`, `type`, `is_active`) VALUES
(1, 'Pilates', 'Μάθημα Pilates για ενδυνάμωση του κορμού και ευλυγισία.', 'group', 1),
(2, 'Crossfit', 'Υψηλής έντασης διαλειμματική προπόνηση.', 'group', 1),
(3, 'Ενδυνάμωση', 'Χρήση του εξοπλισμού με βάρη για ατομική προπόνηση.', 'individual', 1),
(4, 'Πισίνα', 'Ελεύθερη κολύμβηση στην πισίνα του γυμναστηρίου.', 'individual', 1);


-- -----------------------------------------------------------------
-- Εισαγωγή Χρηστών (Users)
-- Σημείωση: Ο κωδικός για όλους τους χρήστες είναι 'password123'. 
-- Το hash έχει δημιουργηθεί με BCRYPT.
-- -----------------------------------------------------------------
INSERT INTO `users` (`id`, `username`, `email`, `password_hash`, `first_name`, `last_name`, `country`, `city`, `address`, `role_id`, `status`) VALUES
(1, 'admin', 'admin@gym.com', '$2y$10$iRnA4Ie.VbEaLp/w2y.O.eMAaL1aGeG8f2TPd2z21WlbaSjYdJ1C6', 'Γιώργος', 'Παπαδάκης', 'Greece', 'Athens', 'Λεωφ. Αλεξάνδρας 10', 1, 'active'),
(2, 'giorgos_p', 'g.pappas@email.com', '$2y$10$iRnA4Ie.VbEaLp/w2y.O.eMAaL1aGeG8f2TPd2z21WlbaSjYdJ1C6', 'Γιώργος', 'Παππάς', 'Greece', 'Athens', 'Πατησίων 50', 2, 'active'),
(3, 'maria_k', 'm.karagianni@email.com', '$2y$10$iRnA4Ie.VbEaLp/w2y.O.eMAaL1aGeG8f2TPd2z21WlbaSjYdJ1C6', 'Μαρία', 'Καραγιάννη', 'Greece', 'Thessaloniki', 'Εγνατίας 22', 2, 'active'),
(4, 'pending_user', 'pending@email.com', '$2y$10$iRnA4Ie.VbEaLp/w2y.O.eMAaL1aGeG8f2TPd2z21WlbaSjYdJ1C6', 'Άννα', 'Ιωάννου', 'Greece', 'Patra', 'Κορίνθου 15', NULL, 'pending_approval');


-- -----------------------------------------------------------------
-- Εισαγωγή Διαθέσιμων Ραντεβού/Μαθημάτων (Events)
-- Δημιουργούμε events για την επόμενη εβδομάδα (με βάση την τρέχουσα ημερομηνία)
-- -----------------------------------------------------------------
-- Ομαδικά Events
INSERT INTO `events` (`program_id`, `trainer_id`, `start_time`, `end_time`, `max_capacity`) VALUES
-- Pilates με την Ελένη την επόμενη Δευτέρα και Τετάρτη
(1, 1, '2025-06-09 18:00:00', '2025-06-09 19:00:00', 15),
(1, 1, '2025-06-11 18:00:00', '2025-06-11 19:00:00', 15),
-- Crossfit με τον Κώστα την επόμενη Τρίτη και Πέμπτη
(2, 2, '2025-06-10 20:00:00', '2025-06-10 21:00:00', 10),
(2, 2, '2025-06-12 20:00:00', '2025-06-12 21:00:00', 10);

-- Ατομικά Events (slots για την πισίνα την επόμενη Δευτέρα)
INSERT INTO `events` (`program_id`, `trainer_id`, `start_time`, `end_time`, `max_capacity`) VALUES
(4, NULL, '2025-06-09 09:00:00', '2025-06-09 10:00:00', 1),
(4, NULL, '2025-06-09 10:00:00', '2025-06-09 11:00:00', 1),
(4, NULL, '2025-06-09 11:00:00', '2025-06-09 12:00:00', 1);

-- Ατομικά Events (slots για την αίθουσα με βάρη την επόμενη Δευτέρα)
INSERT INTO `events` (`program_id`, `trainer_id`, `start_time`, `end_time`, `max_capacity`) VALUES
(3, NULL, '2025-06-09 17:00:00', '2025-06-09 18:00:00', 1),
(3, NULL, '2025-06-09 18:00:00', '2025-06-09 19:00:00', 1);

-- -----------------------------------------------------------------
-- Εισαγωγή Κρατήσεων (Bookings)
-- -----------------------------------------------------------------
INSERT INTO `bookings` (`user_id`, `event_id`, `status`) VALUES
-- Ο Γιώργος Παππάς (user_id=2) κλείνει Pilates (event_id=1)
(2, 1, 'confirmed'),
-- Η Μαρία Καραγιάννη (user_id=3) κλείνει Πισίνα (event_id=5)
(3, 5, 'confirmed'),
-- Ο Γιώργος Παππάς (user_id=2) είχε κλείσει Crossfit (event_id=3) αλλά το ακύρωσε
(2, 3, 'cancelled_by_user');


-- -----------------------------------------------------------------
-- Εισαγωγή Ανακοινώσεων (Announcements)
-- -----------------------------------------------------------------
INSERT INTO `announcements` (`title`, `content`, `user_id`) VALUES
('Καλοκαιρινή Προσφορά!', 'Επωφεληθείτε από την καλοκαιρινή μας προσφορά με 20% έκπτωση σε όλες τις τρίμηνες συνδρομές. Η προσφορά ισχύει μέχρι 31/07.', 1),
('Αλλαγή στο πρόγραμμα Yoga', 'Το μάθημα της Yoga της Παρασκευής θα γίνεται στις 19:00 αντί για τις 20:00 για τον μήνα Ιούνιο.', 1);